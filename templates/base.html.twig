<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>{% block title %}Welcome!{% endblock %}</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    {% block stylesheets %}
      {{ encore_entry_link_tags('app') }}
    {% endblock %}
  </head>
  <body>

    <header>
      <div class="container">
        <div id="logo">
          <img src="{{ asset('build/logo.png') }}" />
          <span class="site-title">Guild-O-Tron</span>
        </div>

        <nav>
          <ul>
            <li><a href="{{ path('homepage') }}">{% trans %}menu.home{% endtrans %}</a></li>

            <li><a href="{{ path('guilds') }}">{% trans %}menu.guilds{% endtrans %}</a></li>
            <li><a href="{{ path('events') }}">{% trans %}menu.events{% endtrans %}</a></li>

            {% if not is_granted('IS_AUTHENTICATED_FULLY') %}
            <li><a href="{{ path('app_login') }}">{% trans %}menu.login{% endtrans %}</a></li>
            <li><a href="{{ path('app_register') }}">{% trans %}menu.register{% endtrans %}</a></li>
            {% endif %}

            {% if is_granted('IS_AUTHENTICATED_FULLY') %}
            <li><a href="{{ path('dashboard') }}">{% trans %}menu.dashboard{% endtrans %}</a></li>
            {% if is_granted('ROLE_ADMIN') %}
              <li><a href="{{ path('admin') }}">{% trans %}menu.admin{% endtrans %}</a></li>
            {% endif %}
            <li class="red"><a href="{{ path('app_logout') }}">{% trans %}menu.logout{% endtrans %}</a></li>
            {% endif %}

            <li><a href="https://bitbucket.org/anthony-d/guild-o-tron/issues?status=new&status=open" target="_blank" style="color: #3498db;">BUG</a></li>

            <li><a href="{{ path('setlocale', {'language': 'fr'}) }}"><img src="{{ asset('build/fr.png') }}" class="flag{% if app.request.locale == 'fr' %} current{% endif %}" alt="FR" /></a></li>
            <li><a href="{{ path('setlocale', {'language': 'en'}) }}"><img src="{{ asset('build/en.png') }}" class="flag{% if app.request.locale == 'en' %} current{% endif %}" alt="EN" /></a></li>
            <li><a href="{{ path('setlocale', {'language': 'de'}) }}"><img src="{{ asset('build/de.png') }}" class="flag{% if app.request.locale == 'de' %} current{% endif %}" alt="DE" /></a></li>
            <li><a href="{{ path('setlocale', {'language': 'es'}) }}"><img src="{{ asset('build/es.png') }}" class="flag{% if app.request.locale == 'es' %} current{% endif %}" alt="ES" /></a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div id="content">
      <div class="container">

        {% for type, messages in app.flashes %}
          {% for message in messages %}
          <div class="flash-message">
            <div class="flash-{{type}}"><a href="#!" class="flash-close">&times;</a>{{message|trans}}</div>
          </div>
          {% endfor %}
        {% endfor %}

        {% block body %}{% endblock %}
      </div>
    </div>

    <footer>
      <div class="container">
        <p>{% trans %}arenanet.copyright{% endtrans %}</p>
        <p>{{ 'made.with.by.for'|trans({'%love%': '<i class="fas fa-heart"></i>', '%anthony%': '<a href="https://anthony-destenay.fr/lebusmagique/" target="_blank">Anthony.5487</a>', '%lebusmagique%': '<a href="https://www.lebusmagique.fr" target="_blank">Le Bus Magique</a>'})|raw }}</p>
        <p>Flag icons by <a href="https://www.flaticon.com/packs/countrys-flags" title="Freepik" target="_blank">Freepik</a>, licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>.</p>
      </div>
    </footer>

    {% block javascripts %}
      {{ encore_entry_script_tags('app') }}
    {% endblock %}
  </body>
</html>
